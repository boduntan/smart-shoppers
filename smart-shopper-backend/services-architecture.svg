<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1200" height="800" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="600" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#2c3e50">
    Staples Smart Shopper Backend - Services Architecture
  </text>
  
  <!-- API Gateway Layer -->
  <rect x="50" y="80" width="1100" height="120" fill="#3498db" fill-opacity="0.1" stroke="#3498db" stroke-width="2" rx="10"/>
  <text x="600" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#3498db">
    ğŸš€ API GATEWAY LAYER
  </text>
  
  <!-- Backend API Service -->
  <rect x="400" y="120" width="400" height="60" fill="#3498db" fill-opacity="0.8" stroke="#2980b9" stroke-width="2" rx="8"/>
  <text x="600" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
    Backend API Service
  </text>
  <text x="600" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">
    Node.js + Express + TypeScript
  </text>
  <text x="600" y="170" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">
    Port: 3000 | Health Checks | Rate Limiting | CORS
  </text>
  
  <!-- Business Logic Layer -->
  <rect x="50" y="220" width="1100" height="200" fill="#27ae60" fill-opacity="0.1" stroke="#27ae60" stroke-width="2" rx="10"/>
  <text x="600" y="245" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#27ae60">
    ğŸ”§ BUSINESS LOGIC & SERVICES LAYER
  </text>
  
  <!-- OpenAI Service -->
  <rect x="80" y="260" width="200" height="80" fill="#e74c3c" fill-opacity="0.8" stroke="#c0392b" stroke-width="2" rx="8"/>
  <text x="180" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">
    ğŸ¤– OpenAI Service
  </text>
  <text x="180" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    GPT-4o-mini
  </text>
  <text x="180" y="310" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Chat + RAG + FAQ
  </text>
  <text x="180" y="325" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Azure/Standard Support
  </text>
  
  <!-- FAQ Service -->
  <rect x="300" y="260" width="180" height="80" fill="#9b59b6" fill-opacity="0.8" stroke="#8e44ad" stroke-width="2" rx="8"/>
  <text x="390" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">
    ğŸ“š FAQ Service
  </text>
  <text x="390" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    10 Staples FAQs
  </text>
  <text x="390" y="310" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    RAG Optimized
  </text>
  <text x="390" y="325" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Smart Scoring
  </text>
  
  <!-- Product Service -->
  <rect x="500" y="260" width="180" height="80" fill="#f39c12" fill-opacity="0.8" stroke="#e67e22" stroke-width="2" rx="8"/>
  <text x="590" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">
    ğŸ›ï¸ Product Service
  </text>
  <text x="590" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    9,999 Products
  </text>
  <text x="590" y="310" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Catalog Management
  </text>
  <text x="590" y="325" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Search & Filter
  </text>
  
  <!-- ChromaDB Service -->
  <rect x="700" y="260" width="180" height="80" fill="#1abc9c" fill-opacity="0.8" stroke="#16a085" stroke-width="2" rx="8"/>
  <text x="790" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">
    ğŸ§  ChromaDB Service
  </text>
  <text x="790" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Vector Embeddings
  </text>
  <text x="790" y="310" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Semantic Search
  </text>
  <text x="790" y="325" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Port: 8000
  </text>
  
  <!-- Analytics Service -->
  <rect x="900" y="260" width="180" height="80" fill="#34495e" fill-opacity="0.8" stroke="#2c3e50" stroke-width="2" rx="8"/>
  <text x="990" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">
    ğŸ“Š Analytics Service
  </text>
  <text x="990" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Usage Metrics
  </text>
  <text x="990" y="310" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Performance Data
  </text>
  <text x="990" y="325" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Health Monitoring
  </text>
  
  <!-- Data Persistence Layer -->
  <rect x="50" y="450" width="1100" height="160" fill="#e67e22" fill-opacity="0.1" stroke="#e67e22" stroke-width="2" rx="10"/>
  <text x="600" y="475" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#e67e22">
    ğŸ’¾ DATA PERSISTENCE LAYER
  </text>
  
  <!-- PostgreSQL -->
  <rect x="100" y="500" width="200" height="80" fill="#336791" fill-opacity="0.9" stroke="#2d5aa0" stroke-width="2" rx="8"/>
  <text x="200" y="520" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">
    ğŸ˜ PostgreSQL 15
  </text>
  <text x="200" y="535" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Port: 5432
  </text>
  <text x="200" y="550" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Products | Chat History
  </text>
  <text x="200" y="565" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Sessions | Analytics
  </text>
  
  <!-- Redis -->
  <rect x="350" y="500" width="200" height="80" fill="#dc382d" fill-opacity="0.9" stroke="#c0392b" stroke-width="2" rx="8"/>
  <text x="450" y="520" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">
    ğŸ”´ Redis 7
  </text>
  <text x="450" y="535" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Port: 6379
  </text>
  <text x="450" y="550" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Cache | Sessions
  </text>
  <text x="450" y="565" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Rate Limiting
  </text>
  
  <!-- ChromaDB Storage -->
  <rect x="600" y="500" width="200" height="80" fill="#16a085" fill-opacity="0.9" stroke="#138d75" stroke-width="2" rx="8"/>
  <text x="700" y="520" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">
    ğŸ§  ChromaDB Store
  </text>
  <text x="700" y="535" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Vector Database
  </text>
  <text x="700" y="550" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    FAQ Embeddings
  </text>
  <text x="700" y="565" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Product Vectors
  </text>
  
  <!-- File System -->
  <rect x="850" y="500" width="200" height="80" fill="#7f8c8d" fill-opacity="0.9" stroke="#5d6d7e" stroke-width="2" rx="8"/>
  <text x="950" y="520" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">
    ğŸ“ File System
  </text>
  <text x="950" y="535" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Image Uploads
  </text>
  <text x="950" y="550" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Static Assets
  </text>
  <text x="950" y="565" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Logs & Backups
  </text>
  
  <!-- Administration Layer -->
  <rect x="50" y="640" width="1100" height="100" fill="#8e44ad" fill-opacity="0.1" stroke="#8e44ad" stroke-width="2" rx="10"/>
  <text x="600" y="665" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#8e44ad">
    ğŸ–¥ï¸ ADMINISTRATION & MONITORING
  </text>
  
  <!-- pgAdmin -->
  <rect x="200" y="680" width="250" height="40" fill="#8e44ad" fill-opacity="0.8" stroke="#7d3c98" stroke-width="2" rx="6"/>
  <text x="325" y="695" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">
    ğŸ–¥ï¸ pgAdmin 4
  </text>
  <text x="325" y="710" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Port: 5050 | Database Management
  </text>
  
  <!-- Docker -->
  <rect x="500" y="680" width="250" height="40" fill="#2496ed" fill-opacity="0.8" stroke="#1e88e5" stroke-width="2" rx="6"/>
  <text x="625" y="695" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">
    ğŸ³ Docker Compose
  </text>
  <text x="625" y="710" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    Container Orchestration
  </text>
  
  <!-- Health Monitoring -->
  <rect x="800" y="680" width="200" height="40" fill="#27ae60" fill-opacity="0.8" stroke="#229954" stroke-width="2" rx="6"/>
  <text x="900" y="695" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">
    ğŸ’š Health Checks
  </text>
  <text x="900" y="710" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
    /api/health
  </text>
  
  <!-- Connection Lines -->
  <!-- API to Services -->
  <line x1="600" y1="180" x2="180" y2="260" stroke="#3498db" stroke-width="2"/>
  <line x1="600" y1="180" x2="390" y2="260" stroke="#3498db" stroke-width="2"/>
  <line x1="600" y1="180" x2="590" y2="260" stroke="#3498db" stroke-width="2"/>
  <line x1="600" y1="180" x2="790" y2="260" stroke="#3498db" stroke-width="2"/>
  <line x1="600" y1="180" x2="990" y2="260" stroke="#3498db" stroke-width="2"/>
  
  <!-- Services to Data Layer -->
  <line x1="390" y1="340" x2="200" y2="500" stroke="#27ae60" stroke-width="2"/>
  <line x1="590" y1="340" x2="200" y2="500" stroke="#27ae60" stroke-width="2"/>
  <line x1="590" y1="340" x2="450" y2="500" stroke="#27ae60" stroke-width="2"/>
  <line x1="790" y1="340" x2="700" y2="500" stroke="#27ae60" stroke-width="2"/>
  <line x1="990" y1="340" x2="950" y2="500" stroke="#27ae60" stroke-width="2"/>
  
  <!-- Performance Metrics Box -->
  <rect x="50" y="760" width="1100" height="35" fill="#ecf0f1" stroke="#bdc3c7" stroke-width="1" rx="5"/>
  <text x="600" y="775" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#2c3e50">
    ğŸ“Š <tspan font-weight="bold">Performance:</tspan> 9,999 Products | FAQ: &lt;50ms | AI Chat: &lt;2s | Vector Search: &lt;100ms | 1000+ Concurrent Users
  </text>
  <text x="600" y="790" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#2c3e50">
    ğŸ·ï¸ <tspan font-weight="bold">Version 1.6.0</tspan> | ğŸ¤– RAG-Optimized AI System | ğŸ³ 5 Docker Services | âœ… Production Ready
  </text>
</svg>
